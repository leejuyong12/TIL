# 관계 데이터 모델



속성

- 릴레이션의 열을 속성 또는 애트리뷰트라고 부른다.

- 각 속성은 서로 다른 이름을 이용해 구별한다.



튜플

- 릴레이션의 행을 튜플이라 한다.

- 고객 개체의 인스턴스다.



도메인

- 속성 하나가 가질 수 있는 모든 값의 집합을 해당 속성의 도메인이라 한다.

- 등급 속성의 도메인을 정의해두면 사용자가 속성 값을 입력하거나 수정할 때 데이터베이스 시스템이 적합성을 판단하여 네 가지 이외의 값은 허용하지 않음으로써 항상 올바른 값만 유지할 수 있다는 장점이 있다.



차수

- 하나의 릴레이션에서 속성의 전체 개수를 릴레이션의 차수라고 한다.

- 모든 릴레이션은 최소 1이상의 차수를 유지해야 한다.

- 릴레이션의 차수는 일반적으로 자주 변하지 않는다는 정적인 특징이 있다.



카디널리티

- 하나의 릴레이션에서 튜플의 전체 개수를 릴레이션의 카디널리티라고 한다.

- 튜플이 없는 릴레이션이 존재할 수도 있다.

- 새로운 튜플이 계속 삽입되거나 기존 튜플이 삭제될 수 있으므로 릴레이션의 카디널리티는 일반적으로 자주 변한다는 동적인 특징이 있다.



릴레이션 스키마

- 릴레이션 스키마는 릴레이션의 이름과 릴레이션에 포함된 모든 속성의 이름으로 정의하는 릴레이션의 논리적 구조다.

- 릴레이션이름(속성이름1, 속성이름2, .... , 속성이름n)



릴레이션 인스턴스

- 릴레이션 인스턴스는 어느 한 시점에 릴레이션에 존재하는 튜플들의 집합이다.
- 릴레이션 인스턴스에 포함된 튜플은 릴레이션 스키마에서 정의한 각 속성에 대응하는 실제 값으로 구성되어 있다.
- 릴레이션 인스턴스는 속성이름에 대응되는 내용



데이터베이스 스키마와 데이터베이스 인스턴스

- 데이터베이스는 릴레이션 여러 개로 구성된다.
- 특정 데이터베이스 스키마를 설계한다는 것은 필요한 모든 릴레이션의 스키마를 모두 정의한다는 것이다.
- 데이터베이스 인스턴스는 어느 한 시점에서 데이터베이스에 저장된 데이터 내용의 전체 집합을 의미한다.



릴레이션의 특성

- 튜플의 유일성 : 하나의 릴레이션에는 동일한 튜플이 존재할 수 없다.
- 튜플의 무순서 : 하나의 릴레이션에서 튜플 사이의 순서는 무의미하다.
- 속성의 무순서 : 하나의 릴레이션에서 속성 사이의 순서는 무의미하다.
- 속성의 원자성 : 속성 값으로 원자 값만 사용할 수 있다.(모든 속성 값은 더는 분해할 수 없는 하나의 값, 즉 원자 값만 가질 수 있다.)



### 키의 종류

릴레이션에 포함된 튜플들을 유일하게 구별해주는 역할은 속성 또는 속성들의 집합인 키가 담당한다.

키는 관계 데이터 모델에서 중요한 제약 조건을 정의한다.

슈퍼키, 후보키, 기본키, 대체키, 외래키가 있다.



슈퍼키

- 슈퍼키는 유일성의 특성을 만족하는 속성 또는 속성들의 집합이다.
- 유일성은 키가 갖추어야 할 기본 특성으로, 하나의 릴레이션에서 키로 지정된 속성 값은 튜플마다 달라야 한다는 의미이다.
- 키 값이 같은 튜플은 존재할 수 없다.



후보키

- 후보키는 유일성과 최소성을 만족하는 속성 또는 속성들의 집합이다.
- 최소성은 꼭 필요한 최소한의 속성들로만 키를 구성하는 특성이다.
- 후보키는 튜플을 유일하게 구별하기 위해 꼭 필요한 최소한의 속성들로만 이루어지므로 슈퍼키 중에서 최소성을 만족하는 것이 후보키가 된다.
- 후보키가 되기 위해 만족해야 하는 유일성과 최소성의 특성은 새로운 튜플이 삽입되거나 기존 튜플의 속성 값이 바뀌어도 유지되어야 한다.
- 후보키를 선정할 때는 현재의 릴레이션 내용, 즉 릴레이션 인스턴스만 보고 유일성과 최소성을 판단해서는 안된다.
- 데이터베이스가 사용될 현실 세계의 환경까지 염두에 두고 속성의 본래 의미를 정확히 이해한 후 슈퍼키와 후보키를 선별해야 한다.



기본키

- 데이터베이스 설계자나 관리자는 여러 후보키 중에서 기본적으로 사용할 키를 반드시 선택해야 하는데 이것이 기본키이다.
- 만약 후보키가 1개 존재하면 해당 후보키를 기본키로 선택해야 하지만 여러 개일 경우에는 데이터베이스 사용환경을 고려하여 적합한 것을 기본키로 선택하면 된다.
- 널 값을 가질 수 있는 속성이 포함된 후보키는 기본키로 부적합하다.
- 값이 자주 변경될 수 있는 속성이 포함된 후보키는 기본키로 부적합하다.
- 단순한 후보키를 기본키로 선택한다.
  - 단순한 후보키는 자릿수가 적은 정수나 단순 문자열인 속성으로 구성되거나, 구성하는 속성의 개수가 적은 후보키다.



대체키

- 대체키는 기본키로 선택되지 못한 후보키들이다.



외래키

- 어떤 릴레이션에 소속된 속성 또는 속성 집합이 다른 릴레이션의 기본키가 되는 키다.

- 다른 릴레이션의 기본키를 그대로 참조하는 속성의 집합이 외래키다.

- 보통은 참조되는 릴레이션의 기본키를 외래키로 참조한다.

  

